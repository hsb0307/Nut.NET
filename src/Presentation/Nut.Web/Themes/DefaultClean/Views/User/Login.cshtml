@model LoginModel
@using Nut.Web.Models.User;
@using Nut.Core;
@using Nut.Core.Infrastructure;
@{
    Layout = "~/Views/Shared/_Root.Head.cshtml";
    //title
    Html.AddTitleParts(T("PageTitle.Login").Text);

    //register URL with return URL (if specified)
    var registerUrl = Url.RouteUrl("Register");
    if (!String.IsNullOrEmpty(this.Context.Request.QueryString["returnUrl"])) {
        var webHelper = EngineContext.Current.Resolve<IWebHelper>();
        registerUrl = webHelper.ModifyQueryString(registerUrl, "returnurl=" + HttpUtility.UrlEncode(this.Context.Request.QueryString["returnUrl"]), null);
    }

    Html.AppendScriptParts(ResourceLocation.Foot, "~/Scripts/jquery.validate.unobtrusive.min.js");
    Html.AppendScriptParts(ResourceLocation.Foot, "~/Scripts/jquery.validate.min.js");
}

@section styles {
    <style type="text/css">
        body {
            min-height: 600px;
            padding-top: 80px;
        }
    </style>
}

<div class="templatemo-content-widget templatemo-login-widget white-bg">
    <header class="text-center">
        @*<div class="square"></div>*@
        <h1>Nut .NET 框架</h1>
    </header>

    @using (Html.BeginForm("Login", "User", FormMethod.Post, new { @class = "templatemo-login-form" })) {

        <div class="message-error">
            @Html.ValidationSummary(true, T("Account.Login.Unsuccessful").Text)
        </div>

        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-user fa-fw"></i></div>
                @Html.TextBoxFor(m => m.Username, new { @class = "form-control", placeholder = "请输入登录账户", autofocus = "autofocus" })
                @Html.ValidationMessageFor(m => m.Username)
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-key fa-fw"></i></div>
                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", placeholder = "请输入密码" } })
                @Html.ValidationMessageFor(m => m.Password)
            </div>
        </div>
        <div class="form-group">
            <div class="checkbox squaredTwo">
                <input type="checkbox" id="c1" name="cc" />
                <label for="c1"><span></span>记住我</label>
            </div>
        </div>
        <div class="form-group">
            @*<input type="submit"  class="templatemo-blue-button width-100" value="登录"  />*@
            <button type="submit" class="templatemo-blue-button width-100">登录</button>
        </div>
    }
</div>
<div class="templatemo-content-widget templatemo-login-widget templatemo-register-widget white-bg">
    <p>还没有账户？ <strong><a href="#" class="blue-text">请联系管理员</a></strong></p>
</div>

@section scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            $('body').addClass('light-gray-bg');
            document.getElementById('@Html.FieldIdFor(model => model.Username)').focus();
        });
    </script>
}




